(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{1342:(e,s,t)=>{Promise.resolve().then(t.bind(t,3551))},3551:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var r=t(5155),l=t(2115),a=t(6874),c=t.n(a),i=t(6315),n=t(8482),d=t(7168),o=t(7340),m=t(8186),x=t(9946);let h=(0,x.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),u=(0,x.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),p=(0,x.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var g=t(7434);let j=(0,x.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),f=(0,x.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),v=(0,x.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),b=(0,x.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var N=t(3453),y=t(4861),w=t(2166),k=t(3999);function A(){let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(!1),[x,A]=(0,l.useState)({});(0,l.useEffect)(()=>{a(!0),s((0,i.O0)())},[]);let C=e=>{A(s=>({...s,[e]:!s[e]}))},z=s=>{let t=e.filter(e=>e.quizId===s);if(0===t.length)return null;let r=Math.max(...t.map(e=>e.score.percentage));return{bestScore:r,averageScore:t.reduce((e,s)=>e+s.score.percentage,0)/t.length,attempts:t.length}};if(!t)return null;let q=[...e].sort((e,s)=>s.timestamp-e.timestamp),S=Array.from(new Set(e.map(e=>e.quizId)));return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-16 max-w-6xl lg:px-8 lg:py-16",children:[(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)(c(),{href:"/",className:"cursor-pointer",children:(0,r.jsxs)(d.$,{variant:"ghost",size:"sm",className:"mb-6 hover:bg-primary/10 hover:text-primary cursor-pointer",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),(0,r.jsxs)("div",{className:"flex flex-col items-start justify-between gap-6 lg:flex-row lg:items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-2xl mb-4",children:(0,r.jsx)(m.A,{className:"w-8 h-8 text-primary"})}),(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2 text-balance",children:"Quiz Results"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Track your progress and review your performance"})]}),e.length>0&&(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full lg:w-auto lg:flex-row",children:[(0,r.jsxs)(d.$,{variant:"outline",onClick:()=>{let e=(0,i.kx)(),s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),s.setAttribute("download","quiz-results-".concat(new Date().toISOString().split("T")[0],".json")),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"hover:bg-primary/5 hover:text-primary hover:border-primary/50 cursor-pointer text-sm bg-transparent",children:[(0,r.jsx)(h,{className:"w-4 h-4 mr-2"}),"Export"]}),(0,r.jsxs)(d.$,{variant:"outline",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{let t=e.target.files[0];if(t){let e=new FileReader;e.onload=e=>{try{(0,i.LZ)(e.target.result)?(s((0,i.O0)()),alert("Results imported successfully!")):alert("Failed to import results. Invalid file format.")}catch(e){alert("Error importing file: "+e.message)}},e.readAsText(t)}},e.click()},className:"hover:bg-primary/5 hover:text-primary hover:border-primary/50 cursor-pointer text-sm bg-transparent",children:[(0,r.jsx)(u,{className:"w-4 h-4 mr-2"}),"Import"]}),(0,r.jsxs)(d.$,{variant:"destructive",onClick:()=>{confirm("Are you sure you want to clear all quiz results? This action cannot be undone.")&&((0,i.zc)(),s([]))},className:"hover:shadow-lg cursor-pointer text-sm",children:[(0,r.jsx)(p,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})]})]}),0===e.length?(0,r.jsx)(n.Zp,{className:"text-center py-16",children:(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-muted rounded-full mb-6",children:(0,r.jsx)(g.A,{className:"w-10 h-10 text-muted-foreground"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"No Results Yet"}),(0,r.jsx)("p",{className:"text-base text-muted-foreground mb-6",children:"Complete a quiz to see your results here"}),(0,r.jsx)(c(),{href:"/",className:"cursor-pointer",children:(0,r.jsx)(d.$,{className:"cursor-pointer text-sm",children:"Start a Quiz"})})]})}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Quiz Statistics"}),(0,r.jsx)("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-3",children:S.map(e=>{let s=w.E.find(s=>s.id===e),t=z(e);return s&&t?(0,r.jsxs)(n.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,r.jsxs)(n.aR,{className:"pb-3",children:[(0,r.jsx)(n.ZB,{className:"text-lg",children:s.title}),(0,r.jsxs)(n.BT,{className:"text-sm",children:[t.attempts," attempts"]})]}),(0,r.jsxs)(n.Wu,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-success/10 rounded-lg border border-success/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"w-4 h-4 text-success"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Best Score"})]}),(0,r.jsxs)("span",{className:"text-lg font-bold text-success",children:[t.bestScore.toFixed(0),"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-primary/10 rounded-lg border border-primary/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(j,{className:"w-4 h-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Average"})]}),(0,r.jsxs)("span",{className:"text-lg font-bold text-primary",children:[t.averageScore.toFixed(0),"%"]})]})]})]},e):null})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Recent Attempts"}),(0,r.jsx)("div",{className:"space-y-4",children:q.map((e,s)=>{let t=w.E.find(s=>s.id===e.quizId),l=new Date(e.timestamp),a=x[s];return(0,r.jsx)(n.Zp,{className:"hover:shadow-lg transition-shadow",children:(0,r.jsxs)(n.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-start justify-between gap-4 lg:flex-row lg:items-center",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg flex-shrink-0",children:(0,r.jsx)(g.A,{className:"w-5 h-5 text-primary"})}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("h3",{className:"font-bold text-lg truncate",children:(null==t?void 0:t.title)||e.quizTitle}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(f,{className:"w-3 h-3 flex-shrink-0"}),(0,r.jsxs)("span",{className:"truncate",children:[l.toLocaleDateString()," at ",l.toLocaleTimeString()]})]})]})]})}),(0,r.jsx)("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-primary mb-1",children:[e.score.percentage.toFixed(0),"%"]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.score.correct,"/",e.score.total," correct"]})]})})]}),(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-border",children:(0,r.jsxs)("div",{className:"flex flex-col items-start justify-between gap-3 lg:flex-row lg:items-center",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-success"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"font-semibold",children:e.score.correct})," Correct"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-destructive"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"font-semibold",children:e.score.incorrect})," Incorrect"]})]})]}),e.questionDetails&&e.questionDetails.length>0&&(0,r.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>C(s),className:"cursor-pointer hover:bg-primary/10 text-sm w-full lg:w-auto justify-start lg:justify-end",children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{className:"w-4 h-4 mr-2"}),"Hide Details"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})}),a&&e.questionDetails&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-border space-y-4",children:[(0,r.jsx)("h4",{className:"font-bold text-lg mb-4",children:"Question Breakdown"}),e.questionDetails.map((e,s)=>(0,r.jsx)("div",{className:(0,k.cn)("p-4 rounded-lg border-2",e.isCorrect?"bg-success/5 border-success/20":"bg-destructive/5 border-destructive/20"),children:(0,r.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-1",children:e.isCorrect?(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-success flex items-center justify-center",children:(0,r.jsx)(N.A,{className:"w-4 h-4 text-success-foreground"})}):(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-destructive flex items-center justify-center",children:(0,r.jsx)(y.A,{className:"w-4 h-4 text-destructive-foreground"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,r.jsxs)("span",{className:"text-xs font-semibold text-muted-foreground",children:["Question ",s+1]}),(0,r.jsx)("span",{className:(0,k.cn)("text-xs font-semibold px-2 py-0.5 rounded-full",e.isCorrect?"bg-success text-success-foreground":"bg-destructive text-destructive-foreground"),children:e.isCorrect?"Correct":"Incorrect"})]}),(0,r.jsx)("p",{className:"font-medium mb-3 text-pretty leading-relaxed text-base",children:e.questionText}),(0,r.jsx)("div",{className:"space-y-2",children:e.allAnswers.map((s,t)=>{let l=e.selectedAnswers.includes(t),a=e.correctAnswers.includes(t);return(0,r.jsx)("div",{className:(0,k.cn)("p-3 rounded-lg border text-sm",a&&"bg-success/10 border-success/30",!a&&l&&"bg-destructive/10 border-destructive/30",!a&&!l&&"bg-muted/30 border-border opacity-60"),children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[a&&(0,r.jsx)(N.A,{className:"w-4 h-4 text-success flex-shrink-0 mt-0.5"}),!a&&l&&(0,r.jsx)(y.A,{className:"w-4 h-4 text-destructive flex-shrink-0 mt-0.5"}),(0,r.jsxs)("span",{className:"flex-1 text-pretty leading-relaxed",children:[s,l&&!a&&(0,r.jsx)("span",{className:"ml-2 text-xs text-destructive font-semibold",children:"(Your answer)"}),l&&a&&(0,r.jsx)("span",{className:"ml-2 text-xs text-success font-semibold",children:"(Your answer)"}),!l&&a&&(0,r.jsx)("span",{className:"ml-2 text-xs text-success font-semibold",children:"(Correct answer)"})]})]})},t)})}),e.explanation&&(0,r.jsxs)("div",{className:"mt-3 p-3 bg-accent/50 rounded-lg border border-border",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-accent-foreground mb-1",children:"Explanation:"}),(0,r.jsx)("p",{className:"text-sm text-accent-foreground/90 text-pretty leading-relaxed",children:e.explanation})]})]})]})},s))]})]})},s)})})]})]})]})})}},4861:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},7340:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[261,530,441,684,358],()=>s(1342)),_N_E=e.O()}]);